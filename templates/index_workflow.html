{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section-new">
  <div class="hero-container-new">
    <div class="hero-badge">‚ú® Powered by Advanced AI</div>
    <h1 class="hero-headline-new">Transform Documents into Actionable Intelligence</h1>
    <p class="hero-subheadline-new">Analyze resumes, contracts, invoices, EDI files, and websites with cutting-edge AI. Get instant insights, risk assessments, and recommendations‚Äîall in seconds. No login required. Completely free.</p>
    <div class="hero-ctas-new">
      <a href="#tools" class="hero-btn-new hero-btn-primary-new">Explore All Tools</a>
      <a href="#how-it-works" class="hero-btn-new hero-btn-secondary-new">See How It Works</a>
    </div>
    <div class="hero-stats">
      <div class="stat-item">
        <div class="stat-number">9+</div>
        <div class="stat-label">AI Tools</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">100%</div>
        <div class="stat-label">Free Forever</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">Instant</div>
        <div class="stat-label">Results</div>
      </div>
    </div>
  </div>
</section>

<!-- Tools Grid Section -->
<section class="tools-section" id="tools">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">Powerful AI Tools for Every Document Type</h2>
      <p class="section-description">Choose from our comprehensive suite of AI-powered document analysis tools</p>
    </div>
    <div class="tools-grid">
      <!-- PDF Summary AI -->
      <div class="tool-card-new" onclick="window.location.href='/pdf-summary'">
        <div class="tool-icon-new">üìÑ</div>
        <h3 class="tool-title-new">PDF Summary AI</h3>
        <p class="tool-description-new">Instantly summarize long PDF documents, extract key insights, and highlight critical sections with AI-powered analysis.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Smart Summarization</span>
          <span class="tool-feature-tag">Key Insights</span>
          <span class="tool-feature-tag">Risk Detection</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Invoice Reader -->
      <div class="tool-card-new" onclick="window.location.href='/invoice-reader'">
        <div class="tool-icon-new">üßæ</div>
        <h3 class="tool-title-new">Invoice Reader</h3>
        <p class="tool-description-new">Automatically extract invoice data including items, quantities, prices, taxes, and totals. Export to CSV with one click.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Auto Extraction</span>
          <span class="tool-feature-tag">CSV Export</span>
          <span class="tool-feature-tag">Fraud Detection</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Contract Analyzer -->
      <div class="tool-card-new" onclick="window.location.href='/contract-analyzer'">
        <div class="tool-icon-new">üìë</div>
        <h3 class="tool-title-new">Contract Analyzer</h3>
        <p class="tool-description-new">Break down complex contracts, identify risks, obligations, and missing clauses. Get negotiation points and recommendations.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Clause Analysis</span>
          <span class="tool-feature-tag">Risk Assessment</span>
          <span class="tool-feature-tag">Legal Insights</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Salary Slip Analyzer -->
      <div class="tool-card-new" onclick="window.location.href='/salary-slip'">
        <div class="tool-icon-new">üí∞</div>
        <h3 class="tool-title-new">Salary Slip Analyzer</h3>
        <p class="tool-description-new">Extract and validate payroll data including earnings, deductions, taxes, and net pay. Detect discrepancies instantly.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Payroll Extraction</span>
          <span class="tool-feature-tag">Tax Validation</span>
          <span class="tool-feature-tag">Error Detection</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Resume Analyzer -->
      <div class="tool-card-new" onclick="switchTab('resume'); setTimeout(() => { document.getElementById('toolSection').style.display = 'block'; document.getElementById('toolSection').scrollIntoView({behavior: 'smooth'}); }, 100);">
        <div class="tool-icon-new">üìÑ</div>
        <h3 class="tool-title-new">Resume Analyzer</h3>
        <p class="tool-description-new">Get ATS compatibility scores, match with job descriptions, and receive AI-powered suggestions to improve your resume.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">ATS Scoring</span>
          <span class="tool-feature-tag">JD Matching</span>
          <span class="tool-feature-tag">AI Rewrites</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Website Summary -->
      <div class="tool-card-new" onclick="window.location.href='/website-summary'">
        <div class="tool-icon-new">üåê</div>
        <h3 class="tool-title-new">Website Summary</h3>
        <p class="tool-description-new">Convert any website into a structured summary with key sections, missing content analysis, and purpose clarity.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Content Extraction</span>
          <span class="tool-feature-tag">Structured Summary</span>
          <span class="tool-feature-tag">Gap Analysis</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Business Docs -->
      <div class="tool-card-new" onclick="window.location.href='/business-docs-ai'">
        <div class="tool-icon-new">üìä</div>
        <h3 class="tool-title-new">Business Docs AI</h3>
        <p class="tool-description-new">Comprehensive analysis of invoices, contracts, reports, and business documents with actionable insights and risk flags.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Multi-Doc Support</span>
          <span class="tool-feature-tag">Risk Detection</span>
          <span class="tool-feature-tag">Action Items</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- EDI Validator -->
      <div class="tool-card-new" onclick="switchTab('edi'); setTimeout(() => { document.getElementById('toolSection').style.display = 'block'; document.getElementById('toolSection').scrollIntoView({behavior: 'smooth'}); }, 100);">
        <div class="tool-icon-new">üö¢</div>
        <h3 class="tool-title-new">EDI Validator</h3>
        <p class="tool-description-new">Validate BAPLIE, MOVINS, COPRAR, and other EDI formats. Detect errors, validate container data, and ensure compliance.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">Format Validation</span>
          <span class="tool-feature-tag">Error Detection</span>
          <span class="tool-feature-tag">Logistics Focus</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
      
      <!-- Website Analyzer -->
      <div class="tool-card-new" onclick="window.location.href='/website-analyzer'">
        <div class="tool-icon-new">üîç</div>
        <h3 class="tool-title-new">Website Analyzer</h3>
        <p class="tool-description-new">Get comprehensive SEO analysis, content structure breakdown, keyword extraction, and actionable recommendations.</p>
        <div class="tool-features-new">
          <span class="tool-feature-tag">SEO Scoring</span>
          <span class="tool-feature-tag">Content Analysis</span>
          <span class="tool-feature-tag">Optimization Tips</span>
        </div>
        <button class="tool-btn-new">Try Now ‚Üí</button>
      </div>
    </div>
  </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section" id="how-it-works">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">How It Works</h2>
      <p class="section-description">Get instant AI-powered insights in three simple steps</p>
    </div>
    <div class="steps-grid-new">
      <div class="step-card-new">
        <div class="step-number-new">1</div>
        <h3 class="step-title-new">Upload Your Document</h3>
        <p class="step-description-new">Upload any PDF, EDI file, or enter a website URL. Our AI supports multiple document formats and file types.</p>
      </div>
      <div class="step-card-new">
        <div class="step-number-new">2</div>
        <h3 class="step-title-new">AI Analysis</h3>
        <p class="step-description-new">Our advanced AI processes your document, extracts key information, identifies patterns, and detects potential issues.</p>
      </div>
      <div class="step-card-new">
        <div class="step-number-new">3</div>
        <h3 class="step-title-new">Get Instant Results</h3>
        <p class="step-description-new">Receive comprehensive analysis, actionable insights, risk assessments, and recommendations in seconds.</p>
      </div>
    </div>
  </div>
</section>

<!-- Why Choose Us Section -->
<section class="why-choose-section">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">Why Choose Our AI Document Platform</h2>
      <p class="section-description">Experience the power of enterprise-grade AI analysis, completely free</p>
    </div>
    <div class="benefits-grid">
      <div class="benefit-card">
        <div class="benefit-icon">‚ö°</div>
        <h3 class="benefit-title">Lightning Fast</h3>
        <p class="benefit-description">Get results in seconds, not hours. Our AI processes documents instantly and delivers comprehensive analysis immediately.</p>
      </div>
      <div class="benefit-card">
        <div class="benefit-icon">üîí</div>
        <h3 class="benefit-title">Privacy First</h3>
        <p class="benefit-description">Your documents are processed securely. We don't store your files permanently, ensuring complete privacy and data protection.</p>
      </div>
      <div class="benefit-card">
        <div class="benefit-icon">üéØ</div>
        <h3 class="benefit-title">Highly Accurate</h3>
        <p class="benefit-description">Powered by advanced AI models trained on millions of documents. Get precise insights and reliable analysis every time.</p>
      </div>
      <div class="benefit-card">
        <div class="benefit-icon">üíº</div>
        <h3 class="benefit-title">Enterprise Ready</h3>
        <p class="benefit-description">From individual users to large teams, our platform scales effortlessly. No limits, no restrictions, no hidden costs.</p>
      </div>
      <div class="benefit-card">
        <div class="benefit-icon">üåç</div>
        <h3 class="benefit-title">Multi-Format Support</h3>
        <p class="benefit-description">Supports PDFs, EDI files, text documents, and websites. One platform for all your document analysis needs.</p>
      </div>
      <div class="benefit-card">
        <div class="benefit-icon">üöÄ</div>
        <h3 class="benefit-title">Always Free</h3>
        <p class="benefit-description">No credit card required. No subscription fees. Access all features completely free, forever. No catch.</p>
      </div>
    </div>
  </div>
</section>

<!-- Use Cases Section -->
<section class="use-cases-section">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">Use Cases</h2>
      <p class="section-description">See how professionals across industries use our AI tools</p>
    </div>
    <div class="use-cases-grid">
      <div class="use-case-card">
        <div class="use-case-icon">üëî</div>
        <h3 class="use-case-title">HR & Recruitment</h3>
        <p class="use-case-description">Screen resumes faster, match candidates with job descriptions, and identify top talent with AI-powered resume analysis.</p>
        <ul class="use-case-list">
          <li>ATS compatibility scoring</li>
          <li>Skill gap analysis</li>
          <li>Resume optimization</li>
        </ul>
      </div>
      <div class="use-case-card">
        <div class="use-case-icon">‚öñÔ∏è</div>
        <h3 class="use-case-title">Legal & Compliance</h3>
        <p class="use-case-description">Review contracts, identify risks, detect missing clauses, and ensure compliance with automated contract analysis.</p>
        <ul class="use-case-list">
          <li>Contract risk assessment</li>
          <li>Clause identification</li>
          <li>Compliance checking</li>
        </ul>
      </div>
      <div class="use-case-card">
        <div class="use-case-icon">üì¶</div>
        <h3 class="use-case-title">Logistics & Shipping</h3>
        <p class="use-case-description">Validate EDI files, ensure container data accuracy, and maintain compliance with shipping industry standards.</p>
        <ul class="use-case-list">
          <li>EDI format validation</li>
          <li>Container tracking</li>
          <li>Error detection</li>
        </ul>
      </div>
      <div class="use-case-card">
        <div class="use-case-icon">üíº</div>
        <h3 class="use-case-title">Finance & Accounting</h3>
        <p class="use-case-description">Process invoices, extract financial data, detect anomalies, and streamline accounting workflows with AI automation.</p>
        <ul class="use-case-list">
          <li>Invoice processing</li>
          <li>Data extraction</li>
          <li>Fraud detection</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">What Users Say</h2>
      <p class="section-description">Trusted by professionals worldwide</p>
    </div>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p class="testimonial-text">"This platform has revolutionized how we process resumes. The ATS scoring feature alone saves us hours every week."</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">SM</div>
          <div class="author-info">
            <div class="author-name">Sarah Mitchell</div>
            <div class="author-role">HR Director, Tech Corp</div>
          </div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p class="testimonial-text">"The EDI validator is a game-changer for our logistics team. We catch errors before they become costly problems."</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">JD</div>
          <div class="author-info">
            <div class="author-name">James Davis</div>
            <div class="author-role">Operations Manager, Global Shipping</div>
          </div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p class="testimonial-text">"Incredibly accurate contract analysis. It helps us identify risks we might have missed and speeds up our review process significantly."</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">AL</div>
          <div class="author-info">
            <div class="author-name">Alexandra Lee</div>
            <div class="author-role">Legal Counsel, Enterprise Solutions</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SEO Content Section -->
<section class="seo-content-section">
  <div class="section-container">
    <div class="seo-content-wrapper">
      <h2 class="seo-content-title">AI-Powered Document Analysis: Transform Your Workflow with Intelligent Automation</h2>
      
      <p>In today's fast-paced business environment, document processing and analysis have become critical bottlenecks that slow down productivity and decision-making. Traditional manual review processes are time-consuming, error-prone, and simply cannot scale with the volume of documents modern organizations handle daily. This is where AI-powered document analysis platforms revolutionize how businesses interact with their documents.</p>

      <p>Our comprehensive suite of AI document analysis tools leverages cutting-edge artificial intelligence and machine learning technologies to provide instant, accurate, and actionable insights from a wide variety of document types. Whether you're dealing with resumes, contracts, invoices, EDI files, or website content, our platform transforms raw documents into structured, analyzable data in seconds.</p>

      <h3>Revolutionary AI Technology for Document Intelligence</h3>
      
      <p>The foundation of our platform rests on advanced natural language processing (NLP) and computer vision technologies that can understand context, extract meaning, and identify patterns in documents just like a human expert would‚Äîbut at machine speed and scale. Our AI models have been trained on millions of documents across various industries, enabling them to recognize document structures, extract key information, identify anomalies, and provide intelligent recommendations.</p>

      <p>For HR professionals and recruiters, our Resume Analyzer tool offers unprecedented capabilities. It calculates ATS (Applicant Tracking System) compatibility scores, matches resumes against job descriptions, identifies skill gaps, and provides specific recommendations for improvement. This not only speeds up the recruitment process but also helps candidates optimize their resumes for better job opportunities.</p>

      <h3>Comprehensive Business Document Analysis</h3>
      
      <p>Legal and compliance teams benefit immensely from our Contract Analyzer, which can process complex legal documents, identify key clauses, flag potential risks, detect missing terms, and even suggest negotiation points. This level of analysis, which would typically take hours of manual review, is completed in seconds with remarkable accuracy.</p>

      <p>Finance and accounting departments can leverage our Invoice Reader to automatically extract line items, quantities, prices, taxes, and totals from invoices. The system can detect suspicious charges, validate calculations, and export data directly to CSV format for seamless integration with existing accounting systems. This automation eliminates manual data entry errors and frees up valuable time for strategic financial analysis.</p>

      <h3>Specialized Tools for Industry-Specific Needs</h3>
      
      <p>Our EDI Validator addresses the unique needs of logistics and shipping industries. It validates BAPLIE, MOVINS, COPRAR, and other EDI formats, ensuring compliance with industry standards. The tool detects structural errors, validates container data, identifies missing segments, and provides comprehensive validation reports. This is particularly valuable for companies handling international shipping where EDI compliance is mandatory.</p>

      <p>For marketing and SEO professionals, our Website Analyzer provides comprehensive website audits including SEO scoring, content structure analysis, keyword extraction, and actionable optimization recommendations. This tool helps businesses improve their online presence and search engine rankings through data-driven insights.</p>

      <h3>Privacy, Security, and Accessibility</h3>
      
      <p>One of the most significant advantages of our platform is its commitment to privacy and security. Documents are processed securely and are not stored permanently, ensuring complete data protection. The platform is designed to be accessible to everyone‚Äîno login required, no credit card needed, and completely free to use. This democratizes access to enterprise-grade AI document analysis capabilities that were previously available only to large organizations with substantial budgets.</p>

      <p>Our multi-format support means users can analyze PDFs, text documents, EDI files, and even entire websites through URL input. This versatility makes our platform a one-stop solution for all document analysis needs, eliminating the need for multiple specialized tools.</p>

      <h3>The Future of Document Processing</h3>
      
      <p>As artificial intelligence continues to evolve, the capabilities of document analysis platforms will only expand. Our platform represents the current state-of-the-art in AI-powered document intelligence, combining speed, accuracy, and ease of use in a way that transforms how professionals interact with documents.</p>

      <p>Whether you're a job seeker optimizing your resume, a legal professional reviewing contracts, a logistics manager validating EDI files, or a business owner processing invoices, our AI document analysis platform provides the tools you need to work smarter, faster, and more effectively. Experience the future of document processing today‚Äîcompletely free, with no strings attached.</p>
    </div>
  </div>
</section>

<!-- Main Content Container - Only show when tab is clicked -->
<div class="main-content-wrapper" id="toolSection" style="display: none;">
  <!-- Tabs Section -->
  <div class="tabs-wrapper">
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('resume')">
        <span class="tab-icon">üìÑ</span>
        <span>Resume</span>
      </button>
      <button class="tab-btn" onclick="switchTab('business')">
        <span class="tab-icon">üìä</span>
        <span>Business Docs</span>
      </button>
      <button class="tab-btn" onclick="switchTab('edi')">
        <span class="tab-icon">üö¢</span>
        <span>Logistics EDI</span>
      </button>
      <button class="tab-btn" onclick="switchTab('website')">
        <span class="tab-icon">üåê</span>
        <span>Website Analyzer</span>
      </button>
    </div>
  </div>

  <!-- Resume Tab -->
  <div id="resume-tab" class="tab-content active">
    <h2 class="tab-title">üìÑ Resume Analyzer</h2>
    <p class="tab-description">Upload your resume to get ATS score, match with job descriptions, and get AI-powered improvements.</p>
    
    <button onclick="tryDemoResume()" class="demo-btn-large">‚ú® Try Example Resume</button>
    
    <div class="upload-card">
      <h3 class="upload-header">Upload Document</h3>
      <form id="resumeUploadForm" enctype="multipart/form-data">
        <label class="upload-label">Upload Resume:</label>
        <input type="file" id="resumeFile" accept=".pdf" class="file-input" />
        <button type="submit" class="upload-btn">Upload Resume</button>
      </form>
      
      <form id="jdUploadForm" enctype="multipart/form-data" class="upload-form-secondary">
        <label class="upload-label">Upload Job Description (Optional):</label>
        <input type="file" id="jdFile" accept=".pdf" class="file-input" />
        <button type="submit" class="upload-btn">Upload JD</button>
      </form>
      
      <div class="sample-links">
        <a href="#" onclick="tryDemoResume(); return false;">Try Sample Resume</a>
      </div>
    </div>

    <div id="resumeStatus" class="status-message"></div>

    <div class="workflow-actions" id="resumeActions" style="display: none;">
      <button onclick="getATSScore()" class="workflow-btn">Get ATS Score</button>
      <button onclick="matchWithJD()" class="workflow-btn">Match with JD</button>
      <button onclick="getFullReport()" class="workflow-btn">Full Report</button>
      <button onclick="rewriteResume()" class="workflow-btn">Rewrite Resume</button>
      <button onclick="shareResult()" class="workflow-btn share">Share Result</button>
      <button onclick="copyResult()" class="workflow-btn copy">Copy Result</button>
    </div>

    <div id="resumeResults" class="results-section"></div>
  </div>

  <!-- Business Docs Tab -->
  <div id="business-tab" class="tab-content">
    <h2 class="tab-title">üìä Business Documents</h2>
    <p class="tab-description">Analyze contracts, invoices, and business documents with AI workflows.</p>
    
    <button onclick="tryDemoBusiness()" class="demo-btn-large">‚ú® Analyze Sample Invoice</button>
    
    <div class="upload-card">
      <h3 class="upload-header">Upload Document</h3>
      <form id="businessUploadForm" enctype="multipart/form-data">
        <label class="upload-label">Upload Document:</label>
        <input type="file" id="businessFile" accept=".pdf" class="file-input" />
        <button type="submit" class="upload-btn">Upload</button>
      </form>
    </div>

    <div id="businessStatus" class="status-message"></div>

    <div class="workflow-actions" id="businessActions" style="display: none;">
      <button onclick="extractInsights()" class="workflow-btn">Extract Insights</button>
      <button onclick="generateActionItems()" class="workflow-btn">Action Items</button>
      <button onclick="createSummary()" class="workflow-btn">Create Summary</button>
      <button onclick="riskAnalysis()" class="workflow-btn">Risk Analysis</button>
      <button onclick="generateEmail()" class="workflow-btn">Email Draft</button>
      <button onclick="shareResult()" class="workflow-btn share">Share Result</button>
    </div>

    <div class="output-format-selector">
      <label>Export Format:</label>
      <select id="outputFormat">
        <option value="json">JSON</option>
        <option value="excel">Excel/CSV</option>
        <option value="email">Email</option>
        <option value="slack">Slack</option>
        <option value="teams">Teams</option>
      </select>
      <button onclick="exportData()" class="export-btn">Export</button>
    </div>

    <div id="businessResults" class="results-section"></div>
  </div>

  <!-- EDI Tab -->
  <div id="edi-tab" class="tab-content">
    <h2 class="tab-title">üö¢ Logistics EDI Analyzer</h2>
    <p class="tab-description">Validate and analyze EDI documents (BAPLIE, MOVINS, COPRAR).</p>
    
    <button onclick="tryDemoEDI()" class="demo-btn-large">‚ú® Try Sample BAPLIE</button>
    
    <div class="upload-card">
      <h3 class="upload-header">Upload EDI Document</h3>
      <form id="ediUploadForm" enctype="multipart/form-data">
        <label class="upload-label">Upload EDI Document:</label>
        <input type="file" id="ediFile" accept=".edi,.txt,.baplie,.movins,.coprar" class="file-input" />
        <button type="submit" class="upload-btn">Upload & Analyze</button>
      </form>
      
      <div class="sample-links">
        <a href="#" onclick="tryDemoEDI(); return false;">Try Sample BAPLIE</a>
      </div>
    </div>

    <div id="ediStatus" class="status-message"></div>
    <div id="ediResults" class="results-section"></div>
  </div>

  <!-- Website Tab -->
  <div id="website-tab" class="tab-content">
    <h2 class="tab-title">üåê Website Analyzer</h2>
    <p class="tab-description">Analyze website content and extract insights.</p>
    
    <button onclick="tryDemoWebsite()" class="demo-btn-large">‚ú® Analyze aigpt.co.in</button>
    
    <div class="upload-card">
      <h3 class="upload-header">Enter Website URL</h3>
      <form id="urlForm">
        <label class="upload-label">Enter Website URL:</label>
        <input type="url" id="urlInput" placeholder="https://example.com" class="url-input" />
        <button type="submit" class="upload-btn">Analyze Website</button>
      </form>
    </div>

    <div id="websiteStatus" class="status-message"></div>

    <div class="workflow-actions" id="websiteActions" style="display: none;">
      <button onclick="extractInsights()" class="workflow-btn">Extract Insights</button>
      <button onclick="createSummary()" class="workflow-btn">Create Summary</button>
      <button onclick="shareResult()" class="workflow-btn share">Share Result</button>
    </div>

    <div id="websiteResults" class="results-section"></div>
  </div>
</div>

<script>
let currentFileId = "active";
let currentTab = "resume";

function switchTab(tabName) {
  // Show tool section if hidden
  const toolSection = document.getElementById('toolSection');
  if (toolSection) {
    toolSection.style.display = 'block';
  }
  
  // Hide all tabs
  document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
  
  // Show selected tab
  const targetTab = document.getElementById(tabName + '-tab');
  if (targetTab) {
    targetTab.classList.add('active');
  }
  
  // Update active button
  const buttons = document.querySelectorAll('.tab-btn');
  buttons.forEach(btn => {
    const btnText = btn.textContent.toLowerCase();
    if ((tabName === 'resume' && btnText.includes('resume')) ||
        (tabName === 'business' && btnText.includes('business')) ||
        (tabName === 'edi' && btnText.includes('edi')) ||
        (tabName === 'website' && btnText.includes('website'))) {
      btn.classList.add('active');
    }
  });
  
  currentTab = tabName;
  
  // Scroll to tab content
  setTimeout(() => {
    toolSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

// Resume Analyzer Functions
document.getElementById("resumeUploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData();
  formData.append("file", document.getElementById("resumeFile").files[0]);
  formData.append("file_id", "active");
  
  const res = await fetch("/api/upload-multi", { method: "POST", body: formData });
  const data = await res.json();
  document.getElementById("resumeStatus").innerHTML = data.message ? `<div class="success-message">‚úÖ ${data.message}</div>` : `<div class="error-message">‚ùå ${data.error}</div>`;
  if (data.message) document.getElementById("resumeActions").style.display = "flex";
});

document.getElementById("jdUploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData();
  formData.append("file", document.getElementById("jdFile").files[0]);
  formData.append("file_id", "jd");
  
  const res = await fetch("/api/upload-multi", { method: "POST", body: formData });
  const data = await res.json();
  const currentStatus = document.getElementById("resumeStatus").innerHTML;
  document.getElementById("resumeStatus").innerHTML = currentStatus + (data.message ? `<div class="success-message">‚úÖ ${data.message}</div>` : `<div class="error-message">‚ùå ${data.error}</div>`);
});

async function getATSScore() {
  document.getElementById("resumeResults").innerHTML = '<div class="loading">‚è≥ Calculating ATS Score...</div>';
  try {
    const res = await fetch("/api/resume/ats-score", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({})
    });
    const data = await res.json();
    displayResumeResults("resumeResults", data, "ats");
    document.getElementById("resumeResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
  } catch (error) {
    document.getElementById("resumeResults").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

async function matchWithJD() {
  const res = await fetch("/api/resume/match-jd", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ jd_file_id: "jd" })
  });
  const data = await res.json();
  displayResults("resumeResults", data);
}

async function getFullReport() {
  document.getElementById("resumeResults").innerHTML = '<div class="loading">‚è≥ Generating full report...</div>';
  try {
    const res = await fetch("/api/resume/full-report", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ jd_file_id: "jd" })
    });
    const data = await res.json();
    displayResumeResults("resumeResults", data, "full");
    document.getElementById("resumeResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
  } catch (error) {
    document.getElementById("resumeResults").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

async function rewriteResume() {
  const res = await fetch("/api/resume/rewrite", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ improvements: [] })
  });
  const data = await res.json();
  displayResults("resumeResults", data);
}

// Business Docs Functions
document.getElementById("businessUploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData();
  formData.append("file", document.getElementById("businessFile").files[0]);
  
  const res = await fetch("/upload", { method: "POST", body: formData });
  const data = await res.json();
  document.getElementById("businessStatus").innerHTML = data.message ? `<div class="success-message">‚úÖ ${data.message}</div>` : `<div class="error-message">‚ùå ${data.error}</div>`;
  if (data.message) document.getElementById("businessActions").style.display = "flex";
});

async function extractInsights() {
  document.getElementById("businessResults").innerHTML = '<div class="loading">‚è≥ Extracting insights...</div>';
  try {
    const res = await fetch("/api/workflow/extract-insights", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ document_type: "business" })
    });
    const data = await res.json();
    displayBusinessResults("businessResults", data);
    document.getElementById("businessResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
  } catch (error) {
    document.getElementById("businessResults").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

async function generateActionItems() {
  const res = await fetch("/api/workflow/action-items", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({})
  });
  const data = await res.json();
  displayResults("businessResults", data);
}

async function createSummary() {
  const res = await fetch("/api/workflow/summary", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ type: "executive" })
  });
  const data = await res.json();
  displayResults("businessResults", data);
}

async function riskAnalysis() {
  const res = await fetch("/api/workflow/risk-analysis", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({})
  });
  const data = await res.json();
  displayResults("businessResults", data);
}

async function generateEmail() {
  const res = await fetch("/api/workflow/email-draft", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ type: "summary" })
  });
  const data = await res.json();
  displayResults("businessResults", data);
}

// EDI Functions
document.getElementById("ediUploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const file = document.getElementById("ediFile").files[0];
  if (!file) {
    document.getElementById("ediStatus").innerHTML = '<div class="error-message">Please select a file</div>';
    return;
  }
  
  const formData = new FormData();
  formData.append("file", file);
  
  document.getElementById("ediStatus").innerHTML = '<div class="loading">‚è≥ Analyzing EDI file...</div>';
  document.getElementById("ediResults").innerHTML = "";
  
  try {
    const res = await fetch("/api/analyze-edi", {
      method: "POST",
      body: formData
    });
    const data = await res.json();
    
    if (data.error) {
      document.getElementById("ediStatus").innerHTML = `<div class="error-message">‚ùå ${data.error}</div>`;
    } else {
      document.getElementById("ediStatus").innerHTML = '<div class="success-message">‚úÖ EDI file analyzed successfully!</div>';
      displayEDIResults("ediResults", data);
      document.getElementById("ediResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  } catch (error) {
    document.getElementById("ediStatus").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
});

// Website Functions
document.getElementById("urlForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const url = document.getElementById("urlInput").value;
  if (!url) {
    document.getElementById("websiteStatus").innerHTML = '<div class="error-message">Please enter a URL</div>';
    return;
  }
  
  document.getElementById("websiteStatus").innerHTML = '<div class="loading">‚è≥ Analyzing website...</div>';
  document.getElementById("websiteResults").innerHTML = "";
  
  try {
    const res = await fetch("/api/analyze-website", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ url })
    });
    const data = await res.json();
    
    if (data.error) {
      document.getElementById("websiteStatus").innerHTML = `<div class="error-message">‚ùå ${data.error}</div>`;
    } else {
      document.getElementById("websiteStatus").innerHTML = '<div class="success-message">‚úÖ Website analyzed successfully!</div>';
      document.getElementById("websiteActions").style.display = "flex";
      displayWebsiteResults("websiteResults", data);
      document.getElementById("websiteResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  } catch (error) {
    document.getElementById("websiteStatus").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
});

// Demo Functions
async function tryDemoResume() {
  document.getElementById("resumeResults").innerHTML = '<div class="loading">‚è≥ Loading demo resume analysis...</div>';
  try {
    const res = await fetch("/api/demo/resume");
    const data = await res.json();
    displayResumeResults("resumeResults", data, "ats");
    document.getElementById("resumeResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
  } catch (error) {
    document.getElementById("resumeResults").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

async function tryDemoBusiness() {
  const res = await fetch("/api/demo/business");
  const data = await res.json();
  displayResults("businessResults", data.sampleData);
}

async function tryDemoEDI() {
  document.getElementById("ediStatus").innerHTML = '<div class="loading">‚è≥ Loading demo EDI analysis...</div>';
  document.getElementById("ediResults").innerHTML = "";
  try {
    const res = await fetch("/api/demo/edi");
    const data = await res.json();
    displayEDIResults("ediResults", data);
    document.getElementById("ediStatus").innerHTML = '<div class="success-message">‚úÖ Demo EDI analysis loaded!</div>';
    document.getElementById("ediResults").scrollIntoView({ behavior: 'smooth', block: 'start' });
  } catch (error) {
    document.getElementById("ediStatus").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

async function tryDemoWebsite() {
  const url = "https://aigpt.co.in";
  document.getElementById("websiteStatus").innerHTML = '<div class="loading">‚è≥ Analyzing demo website...</div>';
  document.getElementById("websiteResults").innerHTML = "";
  
  try {
    const res = await fetch("/api/analyze-website", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ url })
    });
    const data = await res.json();
    
    if (data.error) {
      document.getElementById("websiteStatus").innerHTML = `<div class="error-message">‚ùå ${data.error}</div>`;
    } else {
      document.getElementById("websiteStatus").innerHTML = '<div class="success-message">‚úÖ Demo analysis complete!</div>';
      document.getElementById("websiteActions").style.display = "flex";
      displayWebsiteResults("websiteResults", data);
    }
  } catch (error) {
    document.getElementById("websiteStatus").innerHTML = `<div class="error-message">‚ùå Error: ${error.message}</div>`;
  }
}

// Share Functions
function shareResult() {
  const shareUrl = window.location.href;
  if (navigator.share) {
    navigator.share({ title: "AI Document Analysis", url: shareUrl });
  } else {
    navigator.clipboard.writeText(shareUrl);
    alert("Link copied to clipboard!");
  }
}

function copyResult() {
  const results = document.querySelectorAll('.result-card pre');
  if (results.length > 0) {
    navigator.clipboard.writeText(results[0].innerText);
    alert("Results copied to clipboard!");
  }
}

// Utility Functions
function displayResults(containerId, data) {
  const container = document.getElementById(containerId);
  container.innerHTML = `<div class="result-card fade-in"><h3 class="result-header">AI Results</h3><pre class="result-json">${JSON.stringify(data, null, 2)}</pre><button onclick="copyResult()" class="copy-btn">üìã Copy Result</button></div>`;
}

function displayEDIResults(containerId, data) {
  const container = document.getElementById(containerId);
  let html = '<div class="result-card fade-in"><h3 class="result-header">üìä EDI Analysis Results</h3>';
  
  const validation = data.validation || {};
  if (validation.isValid) {
    html += '<div class="result-section success-card"><h4>‚úÖ Validation: PASSED</h4></div>';
  } else {
    html += '<div class="result-section error-card"><h4>‚ùå Validation: FAILED</h4></div>';
  }
  
  if (validation.errors && validation.errors.length > 0) {
    html += '<div class="result-section error-card"><h4>‚ùå Errors:</h4><ul>';
    validation.errors.forEach(err => html += `<li>${err}</li>`);
    html += '</ul></div>';
  }
  
  if (validation.warnings && validation.warnings.length > 0) {
    html += '<div class="result-section warning-card"><h4>‚ö†Ô∏è Warnings:</h4><ul>';
    validation.warnings.forEach(warn => html += `<li>${warn}</li>`);
    html += '</ul></div>';
  }
  
  if (data.summary) {
    html += `<div class="result-section"><h4>üìù Summary:</h4><p>${data.summary}</p></div>`;
  }
  
  if (validation.containersFound > 0) {
    html += `<div class="result-section"><h4>üì¶ Containers Found: ${validation.containersFound}</h4></div>`;
  }
  
  html += `<details class="result-section"><summary>View Full JSON</summary><pre class="result-json">${JSON.stringify(data, null, 2)}</pre></details>`;
  html += '<button onclick="copyResult()" class="copy-btn">üìã Copy Result</button></div>';
  
  container.innerHTML = html;
}

function displayResumeResults(containerId, data, type = "ats") {
  const container = document.getElementById(containerId);
  let html = '<div class="result-card fade-in"><h3 class="result-header">üìÑ Resume Analysis Results</h3>';
  
  if (type === "full") {
    const atsScore = data.atsScore || {};
    const overallScore = atsScore.overallScore || 0;
    html += `<div class="result-section success-card"><h4>üéØ Overall ATS Score: <span class="score-badge">${overallScore}/100</span></h4></div>`;
    
    if (atsScore.strengths && atsScore.strengths.length > 0) {
      html += '<div class="result-section suggestion-card"><h4>‚úÖ Strengths:</h4><ul>';
      atsScore.strengths.forEach(str => html += `<li>${str}</li>`);
      html += '</ul></div>';
    }
    
    if (atsScore.weaknesses && atsScore.weaknesses.length > 0) {
      html += '<div class="result-section error-card"><h4>‚ö†Ô∏è Weaknesses:</h4><ul>';
      atsScore.weaknesses.forEach(weak => html += `<li>${weak}</li>`);
      html += '</ul></div>';
    }
  } else {
    const overallScore = data.overallScore || 0;
    html += `<div class="result-section success-card"><h4>üéØ ATS Score: <span class="score-badge">${overallScore}/100</span></h4></div>`;
    
    if (data.strengths && data.strengths.length > 0) {
      html += '<div class="result-section suggestion-card"><h4>‚úÖ Strengths:</h4><ul>';
      data.strengths.forEach(str => html += `<li>${str}</li>`);
      html += '</ul></div>';
    }
  }
  
  html += `<details class="result-section"><summary>View Full JSON</summary><pre class="result-json">${JSON.stringify(data, null, 2)}</pre></details>`;
  html += '<button onclick="copyResult()" class="copy-btn">üìã Copy Result</button></div>';
  
  container.innerHTML = html;
}

function displayBusinessResults(containerId, data) {
  const container = document.getElementById(containerId);
  let html = '<div class="result-card fade-in"><h3 class="result-header">üìä Business Document Analysis</h3>';
  
  if (data.summary) {
    html += `<div class="result-section"><h4>üìù Summary:</h4><p>${data.summary}</p></div>`;
  }
  
  if (data.risks && data.risks.length > 0) {
    html += '<div class="result-section error-card"><h4>‚ö†Ô∏è Risks & Red Flags:</h4><ul>';
    data.risks.forEach(risk => html += `<li>${risk}</li>`);
    html += '</ul></div>';
  }
  
  html += `<details class="result-section"><summary>View Full JSON</summary><pre class="result-json">${JSON.stringify(data, null, 2)}</pre></details>`;
  html += '<button onclick="copyResult()" class="copy-btn">üìã Copy Result</button></div>';
  
  container.innerHTML = html;
}

function displayWebsiteResults(containerId, data) {
  const container = document.getElementById(containerId);
  let html = '<div class="result-card fade-in"><h3 class="result-header">üåê Website Analysis Results</h3>';
  
  const seoAnalysis = data.seoAnalysis || {};
  const seoScore = seoAnalysis.seoScore || 0;
  html += `<div class="result-section"><h4>SEO Score: <span class="score-badge">${seoScore}/100</span></h4></div>`;
  
  if (data.issues && data.issues.length > 0) {
    html += '<div class="result-section error-card"><h4>‚ùå Issues:</h4><ul>';
    data.issues.forEach(issue => html += `<li>${issue}</li>`);
    html += '</ul></div>';
  }
  
  if (data.recommendations && data.recommendations.length > 0) {
    html += '<div class="result-section suggestion-card"><h4>‚úÖ Recommendations:</h4><ul>';
    data.recommendations.forEach(rec => html += `<li>${rec}</li>`);
    html += '</ul></div>';
  }
  
  html += `<details class="result-section"><summary>View Full JSON</summary><pre class="result-json">${JSON.stringify(data, null, 2)}</pre></details>`;
  html += '<button onclick="copyResult()" class="copy-btn">üìã Copy Result</button></div>';
  
  container.innerHTML = html;
}

async function exportData() {
  const format = document.getElementById("outputFormat").value;
  const results = document.getElementById("businessResults").innerText;
  
  const res = await fetch(`/api/export/${format}`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ data: JSON.parse(results || "{}") })
  });
  
  if (format === "json" || format === "excel") {
    const blob = await res.blob();
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `export.${format === "json" ? "json" : "csv"}`;
    a.click();
  } else {
    const data = await res.json();
    alert(`Export ready! Check console for ${format} format.`);
    console.log(data);
  }
}
</script>
{% endblock %}
